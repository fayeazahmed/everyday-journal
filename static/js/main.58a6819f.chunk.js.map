{"version":3,"sources":["config/axios.js","components/JournalBody.js","components/Info.js","components/Nav.js","App.js","index.js"],"names":["requests","axios","create","baseURL","setAuthToken","token","defaults","headers","common","JournalBody","_a","dateString","user","_b","useState","journal","setJournal","_c","journalText","setJournalText","_d","pageChanged","setPageChanged","firstTimeRender","useRef","useEffect","current","setTimeout","localStorage","removeItem","get","id","then","res","data","text","catch","e","console","log","response","sessionId","getItem","post","changingPage","date","_jsx","__assign","className","children","value","onChange","target","Info","open","setOpen","_jsxs","onClick","Nav","setDateString","modalOn","Date","setDate","getDay","getFullYear","_Fragment","getDate","getMonth","DatePicker","wrapperClassName","dateFormat","minDate","maxDate","d","dateInMs","valueOf","dateObject","getDateString","selected","App","setUser","userNameInput","setUserNameInput","passwordInput","setPasswordInput","_e","setModalOn","_f","loginForm","setLoginForm","_g","responseString","setResponseString","uuidv4","setItem","username","onSubmit","preventDefault","password","status","placeholder","type","day","month","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.58a6819f.chunk.js","sourcesContent":["import axios from \"axios\";\r\nvar requests = axios.create({\r\nbaseURL: \"https://everydayjournal.somee.com\",\r\n});\r\nexport var setAuthToken = function (token) {\r\n    if (token)\r\n        requests.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token;\r\n    else\r\n        delete requests.defaults.headers.common[\"Authorization\"];\r\n};\r\nexport default requests;\r\n","import { __assign } from \"tslib\";\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport axios from \"../config/axios\";\r\nvar JournalBody = function (_a) {\r\n    var dateString = _a.dateString, user = _a.user;\r\n    var _b = useState(null), journal = _b[0], setJournal = _b[1];\r\n    var _c = useState(\"\"), journalText = _c[0], setJournalText = _c[1];\r\n    var _d = useState(false), pageChanged = _d[0], setPageChanged = _d[1];\r\n    var firstTimeRender = useRef(true);\r\n    var handleChange = function () {\r\n        user\r\n            ? axios\r\n                .post(\"/journal/\" + (user === null || user === void 0 ? void 0 : user.id) + \"/\" + (journal === null || journal === void 0 ? void 0 : journal.date), { journalText: journalText })\r\n                .then(function () { })\r\n                .catch(function (e) { return console.log(e.response); })\r\n            : axios\r\n                .post(\"/journal/temp/\" + localStorage.getItem(\"sessionId\") + \"/\" + (journal === null || journal === void 0 ? void 0 : journal.date), { journalText: journalText, changingPage: false })\r\n                .then(function (res) { return setJournal(res.data); })\r\n                .catch(function (e) { return console.log(e.response); });\r\n    };\r\n    useEffect(function () {\r\n        firstTimeRender.current = false;\r\n    }, []);\r\n    useEffect(function () {\r\n        setPageChanged(true);\r\n        setTimeout(function () { return setPageChanged(false); }, 3000);\r\n        if (dateString !== \"\") {\r\n            if (user) {\r\n                localStorage.removeItem(\"sessionId\");\r\n                axios\r\n                    .get(\"/journal/\" + (user === null || user === void 0 ? void 0 : user.id) + \"/\" + dateString)\r\n                    .then(function (res) {\r\n                    setJournal(res.data);\r\n                    setJournalText(res.data.text);\r\n                })\r\n                    .catch(function (e) { return console.log(e.response); });\r\n            }\r\n            else {\r\n                var sessionId = localStorage.getItem(\"sessionId\");\r\n                axios\r\n                    .post(\"/journal/temp/\" + sessionId + \"/\" + dateString, {\r\n                    journalText: journalText,\r\n                    changingPage: true,\r\n                })\r\n                    .then(function (res) {\r\n                    console.log(res.data);\r\n                    setJournal(res.data);\r\n                    setJournalText(res.data.text);\r\n                })\r\n                    .catch(function (e) { return console.log(e.response); });\r\n            }\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [dateString]);\r\n    useEffect(function () {\r\n        if (!firstTimeRender.current) {\r\n            handleChange();\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [journalText]);\r\n    useEffect(function () {\r\n        if (user) {\r\n            localStorage.removeItem(\"sessionId\");\r\n            axios\r\n                .get(\"/journal/\" + (user === null || user === void 0 ? void 0 : user.id) + \"/\" + dateString)\r\n                .then(function (res) {\r\n                setJournal(res.data);\r\n                console.log(res.data);\r\n                setJournalText(res.data.text);\r\n            })\r\n                .catch(function (e) { return console.log(e.response); });\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [user]);\r\n    return (_jsx(\"div\", __assign({ className: \"container journal \" + (pageChanged ? \"changePageAnimation\" : \"\") }, { children: _jsx(\"textarea\", { value: journalText, onChange: function (e) { return setJournalText(e.target.value); } }, void 0) }), void 0));\r\n};\r\nexport default JournalBody;\r\n","import { __assign } from \"tslib\";\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nimport { useState } from \"react\";\r\nvar Info = function () {\r\n    var _a = useState(false), open = _a[0], setOpen = _a[1];\r\n    return (_jsxs(\"footer\", __assign({ className: \"\" + (open ? \"footer-open\" : \"\") }, { children: [_jsx(\"button\", __assign({ onClick: function () { return setOpen(!open); }, className: \"btn btn-info\" }, { children: _jsx(\"i\", { className: \"fa fa-info-circle fa-2x\", \"aria-hidden\": \"true\" }, void 0) }), void 0),\r\n            _jsx(\"div\", { children: \"Hey, this is Ahmed. It's a classic diary like journal made as a full stack project. You pick any date from the calendar and start writing whatever you want. So basically an account keeps the jounral text stored for its respective date. After selecting a date, it creates entry in the database for that user and date, and if there's already a row in db for that speicific user at the same date, it retrieves it, so you can read or update. It's no ground breaking app, but after doing some full stack web with express/django, I wanted to get something up and running using asp.net asap to get myself comfortable with .NET. So I thought this would be cool, because I myself write jounral everyday (on a diary in real life), so having a UI like that which can serve the same purpose felt the right project to build. So journals get stored in journal table with the date and userId. And if you are not logged in, then a random session id is generated and kept in local storage for reference, to keep the texts you write stored temporarily in another table . Then after authenticating, if there is data in the temporary table for that sessionId, then the respective rows are generated in the journal table for that user, and delete from temporary table. Used jwt for authentication. ASP .NET core 5 on back-end, React on front-end. Tried to host in heroku using docker for a WHOLE day. One after another crash was resulting. So I just used the connection string of that postgres database provided by heroku, hosted it somewhere else (somee.com) for free, and kept the client in github-pages.\" }, void 0)] }), void 0));\r\n};\r\nexport default Info;\r\n","import { __assign } from \"tslib\";\r\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\r\nimport { useState } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { getDateString } from \"../App\";\r\nvar Nav = function (_a) {\r\n    var setDateString = _a.setDateString, modalOn = _a.modalOn;\r\n    var _b = useState(new Date()), date = _b[0], setDate = _b[1];\r\n    var _c = useState(false), pageChanged = _c[0], setPageChanged = _c[1];\r\n    var months = [\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"June\",\r\n        \"July\",\r\n        \"Aug\",\r\n        \"Sep\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\",\r\n    ];\r\n    var days = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n    return (_jsxs(\"nav\", __assign({ className: \"container \" + (pageChanged ? \"changePageAnimation\" : \"\") }, { children: [_jsx(\"p\", __assign({ className: \"dayContainer\" }, { children: days[date.getDay()] }), void 0),\r\n            _jsx(\"p\", __assign({ className: \"year\" }, { children: date.getFullYear() }), void 0),\r\n            !modalOn && (_jsxs(_Fragment, { children: [_jsxs(\"div\", __assign({ className: \"calendar\" }, { children: [_jsx(\"p\", __assign({ className: \"calendar__date\" }, { children: date.getDate() }), void 0),\r\n                            _jsx(\"p\", __assign({ className: \"calendar__month\" }, { children: months[date.getMonth()] }), void 0)] }), void 0),\r\n                    _jsx(DatePicker, { wrapperClassName: \"datePickerInput\", dateFormat: \"dd/MM/yyyy\", minDate: new Date(2021, 0, 1), maxDate: new Date(2021, 11, 31), onChange: function (d) {\r\n                            setDate(d);\r\n                            var dateInMs = d === null || d === void 0 ? void 0 : d.valueOf();\r\n                            var dateObject = new Date(dateInMs);\r\n                            setPageChanged(true);\r\n                            setTimeout(function () { return setPageChanged(false); }, 3000);\r\n                            setDateString(getDateString(dateObject));\r\n                        }, selected: date, value: \"\" }, void 0)] }, void 0))] }), void 0));\r\n};\r\nexport default Nav;\r\n","import { __assign } from \"tslib\";\r\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\r\nimport { useEffect, useState } from \"react\";\r\nimport \"./App.css\";\r\nimport JournalBody from \"./components/JournalBody\";\r\nimport Info from \"./components/Info\";\r\nimport Nav from \"./components/Nav\";\r\nimport requests, { setAuthToken } from \"./config/axios\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nfunction App() {\r\n    var _a = useState(\"\"), dateString = _a[0], setDateString = _a[1];\r\n    var _b = useState(null), user = _b[0], setUser = _b[1];\r\n    var _c = useState(\"\"), userNameInput = _c[0], setUserNameInput = _c[1];\r\n    var _d = useState(\"\"), passwordInput = _d[0], setPasswordInput = _d[1];\r\n    var _e = useState(false), modalOn = _e[0], setModalOn = _e[1];\r\n    var _f = useState(true), loginForm = _f[0], setLoginForm = _f[1]; // true for login action, false for register action\r\n    var _g = useState(\"\"), responseString = _g[0], setResponseString = _g[1];\r\n    useEffect(function () {\r\n        var dateInMs = new Date();\r\n        setDateString(getDateString(dateInMs));\r\n        var token = localStorage.getItem(\"journalToken\");\r\n        if (token) {\r\n            setAuthToken(token);\r\n            requests\r\n                .get(\"user/authenticate\")\r\n                .then(function (res) { return setUser(res.data); })\r\n                .catch(function () {\r\n                setAuthToken(null);\r\n                localStorage.removeItem(\"journalToken\");\r\n            });\r\n        }\r\n        if (!user) {\r\n            var sessionId = uuidv4();\r\n            var sId = localStorage.getItem(\"sessionId\");\r\n            !sId && localStorage.setItem(\"sessionId\", sessionId);\r\n        }\r\n        // eslint-disable-next-line\r\n    }, []);\r\n    var handleSubmit = function (e) {\r\n        e.preventDefault();\r\n        setPasswordInput(\"\");\r\n        setUserNameInput(\"\");\r\n        loginForm\r\n            ? requests\r\n                .post(\"/user/login\", {\r\n                username: userNameInput,\r\n                password: passwordInput,\r\n                sessionId: localStorage.getItem(\"sessionId\"),\r\n            })\r\n                .then(function (res) {\r\n                setAuthToken(res.data.token);\r\n                localStorage.setItem(\"journalToken\", res.data.token);\r\n                setUser(res.data.user);\r\n                localStorage.removeItem(\"sessionId\");\r\n                setModalOn(false);\r\n            })\r\n                .catch(function (e) {\r\n                var _a, _b;\r\n                ((_a = e.response) === null || _a === void 0 ? void 0 : _a.status) === 404 || ((_b = e.response) === null || _b === void 0 ? void 0 : _b.status) === 401\r\n                    ? setResponseString(\"Wrong username or password\")\r\n                    : setResponseString(\"Internal server error\");\r\n                setTimeout(function () { return setResponseString(\"\"); }, 2500);\r\n            })\r\n            : requests\r\n                .post(\"/user/register\", {\r\n                username: userNameInput,\r\n                password: passwordInput,\r\n                sessionId: localStorage.getItem(\"sessionId\"),\r\n            })\r\n                .then(function (res) {\r\n                setAuthToken(res.data.token);\r\n                localStorage.setItem(\"journalToken\", res.data.token);\r\n                setUser(res.data.user);\r\n                localStorage.removeItem(\"sessionId\");\r\n                setModalOn(false);\r\n            })\r\n                .catch(function (e) {\r\n                var _a, _b;\r\n                if (((_a = e.response) === null || _a === void 0 ? void 0 : _a.status) === 406)\r\n                    setResponseString(\"Password too small\");\r\n                else if (((_b = e.response) === null || _b === void 0 ? void 0 : _b.status) === 409)\r\n                    setResponseString(\"Username already exists\");\r\n                else {\r\n                    setResponseString(\"Internal server error\");\r\n                }\r\n                setTimeout(function () { return setResponseString(\"\"); }, 2500);\r\n            });\r\n    };\r\n    return (_jsxs(\"div\", __assign({ className: \"App\" }, { children: [_jsxs(\"div\", __assign({ className: \"App__header container\" }, { children: [_jsx(\"header\", { children: \"Everyday Journal\" }, void 0),\r\n                    _jsx(\"button\", __assign({ onClick: function () { return setModalOn(!modalOn); }, className: \"btn btn-info userbtn\" }, { children: _jsx(\"i\", { className: \"fa fa-\" + (user ? \"user\" : \"info\"), \"aria-hidden\": \"true\" }, void 0) }), void 0),\r\n                    modalOn && (_jsxs(\"div\", __assign({ className: \"App__user\" }, { children: [_jsx(\"i\", { onClick: function () { return setModalOn(false); }, className: \"fa fa-times-circle-o fa-2x float-end\", \"aria-hidden\": \"true\" }, void 0),\r\n                            !user ? (_jsxs(_Fragment, { children: [_jsx(\"h4\", { children: \"As you are not signed in, please log in or create an account just within 10 seconds to store your journals. Otherwise it'll only be temporarily available for this session only.\" }, void 0),\r\n                                    loginForm ? (_jsxs(\"h6\", { children: [\"LOGIN or\", \" \", _jsx(\"span\", __assign({ onClick: function () { return setLoginForm(false); }, className: \"text-primary\" }, { children: \"REGISTER\" }), void 0)] }, void 0)) : (_jsxs(\"h6\", { children: [\"REGISTER or\", \" \", _jsx(\"span\", __assign({ onClick: function () { return setLoginForm(true); }, className: \"text-primary\" }, { children: \"LOGIN\" }), void 0)] }, void 0)),\r\n                                    _jsxs(\"form\", __assign({ onSubmit: handleSubmit }, { children: [_jsx(\"input\", { placeholder: \"@username\", className: \"form-control\", value: userNameInput, onChange: function (e) { return setUserNameInput(e.target.value); }, type: \"text\" }, void 0),\r\n                                            _jsx(\"input\", { placeholder: \"password\", className: \"form-control\", value: passwordInput, onChange: function (e) { return setPasswordInput(e.target.value); }, type: \"password\" }, void 0),\r\n                                            _jsx(\"button\", __assign({ className: \"btn btn-primary btn-block\" }, { children: loginForm ? \"Login\" : \"Register\" }), void 0),\r\n                                            responseString !== \"\" ? (_jsx(\"p\", __assign({ className: \"alert alert-info formResponse\" }, { children: responseString }), void 0)) : null] }), void 0)] }, void 0)) : (_jsxs(\"div\", __assign({ className: \"userprofile\" }, { children: [_jsxs(\"p\", __assign({ className: \"userprofile__name\" }, { children: [\"Hey @\", user.username] }), void 0),\r\n                                    _jsx(\"p\", { children: \"Welcome to Everyday Journal\" }, void 0),\r\n                                    _jsxs(\"button\", __assign({ onClick: function () {\r\n                                            requests\r\n                                                .get(\"user/logout\")\r\n                                                .then(function (res) {\r\n                                                setResponseString(res.data);\r\n                                                setTimeout(function () { return setResponseString(\"\"); }, 2500);\r\n                                            })\r\n                                                .catch(function (e) { return console.log(e.response); });\r\n                                            setUser(null);\r\n                                            setAuthToken(null);\r\n                                            localStorage.removeItem(\"journalToken\");\r\n                                            localStorage.setItem(\"sessionId\", uuidv4());\r\n                                        }, className: \"btn btn-dark\" }, { children: [\"Sign out \", _jsx(\"i\", { className: \"fa fa-sign-out\", \"aria-hidden\": \"true\" }, void 0)] }), void 0)] }), void 0))] }), void 0))] }), void 0),\r\n            _jsxs(\"div\", __assign({ onClick: function () { return setModalOn(false); } }, { children: [_jsx(Nav, { modalOn: modalOn, setDateString: setDateString }, void 0),\r\n                    _jsx(JournalBody, { user: user, dateString: dateString }, void 0)] }), void 0),\r\n            _jsx(Info, {}, void 0)] }), void 0));\r\n}\r\nexport default App;\r\nexport function getDateString(date) {\r\n    var day = date.getDate();\r\n    day = day < 10 ? \"0\" + day : day;\r\n    var month = date.getMonth() + 1;\r\n    month = month < 10 ? \"0\" + month : month;\r\n    return day + \"-\" + month + \"-\" + date.getFullYear();\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}